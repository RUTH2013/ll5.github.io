### 一,厦门特沃兹网络科技有限公司

#### 1. 百多微商城APP(webview混合app),入职接手第一个任务,是一个别人留下来的烂尾工程,经过修改+部分页面重构+debug后,目前已正式上线,安卓各大商店,苹果AppStore搜索 百多微,均可下载到;

该项目过程中碰到的主要问题:

> 是一个陌生的框架(apicloud),解决方法当然是去看官方文档,熟悉框架api,慢慢适应.

> 第二个问题是一个移动端的touch事件冒泡问题,无法阻止事件的传递,导致弹出层的滑动,会穿透到正常的文档流上,解决办法是弹出弹出层的时候,让正常的文档流的最外层容器(一般是body)overflow:hidden,虽然只是一行样式的问题,不过解决这个问题,从最开始的preventDefault和stopPropagation,事件的捕获和冒泡,到用事件委托,区分事件目标,到最终认识到touch事件的问题,整个过程,学习到了很多东西.

> 第三个问题是验证码由于后端直接返回地址,然后再把地址绑定到img.src上,这样就无法确保100%请求成功(请求失败了我们也很难知道,总有大概千分之一的概率会拿不到验证码,由于是小概率事件,很难重现,导致无法排查出具体的原因),最终的解决方案是让后端改成base64,用post请求,如果失败,则重新请求.

> 第四个问题是 省市区数据的存储和渲染问题,可能是由于数据较多,前人选择做缓存,但是数据多的时候,再部分机型下会存储失败,经查是localStorage再各个浏览器下的最大存储空间是不一致的,超出这个限制,就会报错.还有就是渲染问题,前任选择用遍历数据并append到节点里面,导致严重影响性能,发现这个问题后,我改成拼接字符串,然后最终一次性加入,性能得到提升.

#### 2. 一亩茶园 官网（http://www.ymcy.com） 一个很普通的企业网站,由我带领2个新人完成,整个项目的前后端技术选型,架构,都由我一个人完成,前端使用vue的单页面应用,后端使用golang+gin+mysql实现restful接口;

该项目过程中碰到的主要问题:

> 该项目前端比较简单,没碰到比较大的难题,非要算一个的话,就是找一个好用的 纯vue 的富文本编辑器(最终用 [vue-quill-editor](https://github.com/surmon-china/vue-quill-editor)).

> 由于该项目后端由我一个人完成,并且是我第一个 Go 的项目,所以碰到的问题还是比较多的,除了基础语法和技巧外,这个项目还碰到过几个印象比较深刻的问题,1.图形验证码问题,试了好几种图形验证码,最终觉得还是[dchest/captcha](https://github.com/dchest/captcha) 最好用,其他的多多少少都有一点点坑.而 dchest/captcha其实我感觉应该再多一个生成 base64 字符串的 api , 我把项目克隆下来实现了并提交pr,不过被作者拒绝了。

> 另一个是鉴权问题,这个虽然在 koa 的项目里面有用过 koa-jwt 不过在 go 下面,实现起来还是有一定差距的,相当于自己动手实现了一个 jwt ,也算是趟了一些坑.

> 第三个是跨域问题,这个项目由于前后端分开部署(之前用node的时候,是前后端代码在一起的,所以没有跨域的概念),我分别尝试了后端加响应头,和前端在 webpack-dev-server 里面加代理服务器, 还有改成简单请求,最终得出结论,如果只是开发的时候前后分离,还是用 webpack-dev-server 的 proxyTable (或者直接[nodejitsu/node-http-proxy](https://github.com/nodejitsu/node-http-proxy))最便捷

#### 3. 商讯 货主专区 (http://hxsc.port365.cn/login.html 微信关注公众号：海峡供应链) 这个项目是外包项目,对方提供后端接口,我们做2个客户端（PC+微信公众号）的前端,这个项目是我带着一个新人开发的,pc端使用vue+element,微信端也是使用vue,不过没用ui框架,因为对包的大小有要求,追求极简,所以全部用自己以前积累的组件来写;

该项目过程中碰到的主要问题:

> 由于该项目分 PC端 和 移动端,所以 webpack 需要配置多入口,主要是 html-webpack-plugin 和 entry,output配置多入口/出口

> 移动端 由于要求比较严格的适配,选择 hotcss

> 移动端 第一次使用 微信授权登录

> 移动端 要求轻量,所以没用 UI库,都是自己根据需求来封装组件,后面我把用到的库,都整理起来,放在这里[noui](https://github.com/noahlam/noui).

#### 4. 趣买 (微信关注公众号：观前街1号) 这是一个在线商城,也是分PC端,微信端,不过这个项目我只参与了微信端,也是使用vue+vuex;

> 该项目一个比较大的难点是组件化,要求比较精细的组件化.由于需要组件化的原因,第一次在项目中使用 vuex 这个项目是个人觉得做的比较好的一个项目,耦合度低,代码清晰.

#### 5. 一亩鲜生 PC端,这也是一个在线商城,地址:http://www.ymnz.com;

> 这个项目由于比较复杂,大范围使用 vuex  并且后期在多个项目中使用，于是有了这2篇关于 vuex 的帖子，[vuex其实超简单,只需3步](https://github.com/noahlam/articles/blob/master/vuex%E5%85%B6%E5%AE%9E%E8%B6%85%E7%AE%80%E5%8D%95%2C%E5%8F%AA%E9%9C%803%E6%AD%A5.md),[vuex其实超简单,喝完这3步,还有3步.md](https://github.com/noahlam/articles/blob/master/vuex%E5%85%B6%E5%AE%9E%E8%B6%85%E7%AE%80%E5%8D%95%2C%E5%96%9D%E5%AE%8C%E8%BF%993%E6%AD%A5%2C%E8%BF%98%E6%9C%893%E6%AD%A5.md)

> 该项目最大的难点是 确认订单页 的逻辑及其复杂,可以封组件的地方很少.导致一个页面写了 3000+ 的代码,偶尔度严重,后期陆陆续续加了三四次需求,且目前为止,没有想出有效解决这个问题的办法,是这么多个经历里面,最失败的一个项目.

#### 6. 鸠工小程序 这是一个工程行业的小程序,起初的技术选型是用微信官方的mvvm框架wepy(开发体验差的无语,各种莫名其妙的bug),不过在项目做到静态页面差不多全部写完的时候（为了等待JAVA同学的后端接口,我们通常会先把静态页面写完,后面再写js交互）美团突然开源了mpvue(开发体验几乎与vue一致),经过权衡后,决定切换到mpvue上去,花了半天的时候,切到mpvue上,感觉整个世界都美好了....预览入口:小程序里搜索【鸠工】;

> 该项目由于是第一次使用 mpvue 而且 mpvue 也是刚开源,社区没那么活跃,碰到的问题也比较多,做完项目后,我总结了一个[美团小程序框架mpvue入门教程](https://github.com/noahlam/articles/blob/master/%E7%BE%8E%E5%9B%A2%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6mpvue%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.md) 和[美团小程序框架mpvue蹲坑指南](https://github.com/noahlam/articles/blob/master/%E7%BE%8E%E5%9B%A2%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6mpvue%E8%B9%B2%E5%9D%91%E6%8C%87%E5%8D%97.md) 并且第一次发布了一个 npm 包 mpvue 下的弹窗组件 [mpvue-toast](https://github.com/noahlam/mpvue-toast) 从此踏上了写博客分享的不归路.

> 在实现用户头像上传的时候,出现一个问题: 部分摄像像素比较高的安卓机,拍出来的照片可以上传,但是无法显示,经反复排查后发现是 选择图片的时候, 给 wx.chooseImage 这个接口传递参数 sizeType:compressed 在安卓机下无效,返回的还是原图,导致图片太大,无法渲染出来.解决办法是获取到图片的时候,先判断一下图片的尺寸,如果超出限定阈值,就用微信的canvas把图片压缩后再使用.

#### 7. 开发鸠工小程序的过程中，由于需要处理时间，所以引用了moment.js，然而moment在小程序里面打包后会大大增加包的体积（大概在500K左右），这对于整个项目代码只允许2M的小程序来说，是无法忍受的，于是萌生了自己写一个简单的时间库，目的是去除moment里面大部分平时很少用到的功能，仅保留几个使用频率非常高的api,于是就有了miment,然后第二次在github上发布开源代码 项目地址 [Miment](https://github.com/noahlam/Miment)

> 在写 miment 的过程中，碰到2个比较典型的问题，一个是 我要让 miment 继承 Date 对象，但是正常情况下内置对象是无法继承的，于是百度到了魔改原型链的办法，另外一个是我想实现一个 distance 计算2个时间差的 api ，这里的时间差，不是指毫秒差，而是可以直接格式化出 *年－月－日 时:分:秒* 的一个时间值，最终我采用的方法是逐个单位计算，然后拼接(这样才能避免月份天数不一样计算不准确的问题),如果你对这个有兴趣，欢迎阅读 miment 源码。

> 在开源 miment 的过程中，由于没有开源经验，很多开源代码该有的东西，我的 miment 都没有，好在社区有几个对 miment 感兴趣的童鞋一起维护，虽然最后 miment 被另一个同类的项目(dayjs)远远的甩在了后面，不过通过这次的经历，让我对开源有了一个新的认识，也算是收获颇丰。

#### 8. 白关 袜子在线定制小程序 (暂未上线),这个项目的核心需求是用 小程序的canvas 完成一个袜子图案在线设计的功能。

> 这个项目，我直接写了一篇总结 [canvas菜鸟基于小程序实现图案在线定制功能](https://github.com/noahlam/articles/blob/master/canvas%E8%8F%9C%E9%B8%9F%E5%9F%BA%E4%BA%8E%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%9E%E7%8E%B0%E5%9B%BE%E6%A1%88%E5%9C%A8%E7%BA%BF%E5%AE%9A%E5%88%B6%E5%8A%9F%E8%83%BD.md)

#### 9. 医药交易平台框架页 这是一个类 ERP 公司要求基于 vue 的 SPA 实现一个通用的框架页，该框架页将来会用到 40+ 个系统中，要求高度可配置，多页签，可脚手架安装等。该项目由于是内部项目，无法公开。

> 同样，我也对此次经历做了一个总结 [记一次基于vue的spa多页签实践经验](https://github.com/noahlam/articles/blob/master/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%9F%BA%E4%BA%8Evue%E7%9A%84spa%E5%A4%9A%E9%A1%B5%E7%AD%BE%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C.md)

> 我把跟业务逻辑有关的代码去掉，得到一个 [vue-multi-tab](https://github.com/noahlam/vue-multi-tab) 一套基于 vue 和 element-ui , 实现了 tab-router (一个基于 tab 的路由) 的 单页面, 多页签 应用程序

> 另外还顺手写了个用于快速搭建项目的脚手架 [tab-cli](https://github.com/noahlam/tab-cli)

#### 10. 株洲商务局报表系统 同样是个内部项目，核心需求是 用户导入一些 excel 表格，然后在线编辑(添加，删除，合并，计算等等), 最后选择几个列的数据，用 echart 生成一个可视化的报表.

> 这个项目，也是直接总结了一篇博客 [js-xlsx + handsontable + echarts 实现在前端导入excel数据并生成echart报表](https://github.com/noahlam/articles/blob/master/js-xlsx%20%2B%20handsontable%20%2B%20echarts.md)

### 二,厦门维道软件技术有限公司

#### 1. 微信小程序：群购小助手,2个端(pc管理 + 小程序), 入职的一个项目，当时微信小程序还在内侧，管理端用 vue + element, 整个项目框架由其他经验比较丰富的组员搭的，我只负责页面的开发，两端我大概都做了 50％ 左右的页面是,由于小程序是内侧阶段，所以几乎没有任何组件/框架可用,纯手工开发, vue 和 element 也是第一次使用. 一边查文档,一边写代码.这个项目是收获最多的项目.

> 作为一个新手，当时只会一些原生的 js 就直接对着文档就开干，加上小程序本身的坑，遇到的问题也是形形色色，不过由于当时的水平比较低，
所谓的问题，也都是比较弱智的，所以就不写出来了,这个项目的收获有: 学会小程序开发, vuejs, element, 对 webpack, nodejs 有初步入门.也是从这个项目开始学习es6,看了阮一峰的书.

#### 2. 特房交房系统(内部系统,目前无法访问的到). 一个PC版的房地产开发商交房给客户的管理系统,也是用 vue + element,这个项目的前端架构是由我从零开始搭起来的(抄了其他项目的内容)

> 由于是抄其他项目的内容,webpack 的 file-loader 路径配置没改,导致 element 的 icon 字体无法正确加载,查了半天,后面从浏览器调试工具的 network 面板里面发现了,字体的路径不对,又百度了半天,最终终于定位到问题出在 webpack 的 file-loader 的参数上

> 第二个 vue 项目, 可以比较熟练的使用 vue 了,于是尝试着自己写 vue 组件, 刚好项目中需要用到评分组件, 而当时 element-ui 的 rate 组件无法满足项目需求,于是就自己写了一个 评分组件 [rate](https://github.com/noahlam/noui/tree/master/src/rate).

#### 3. 轻工集团线上订货平台(微信公众号: 厦门轻工集团订货平台),这个项目本来是 轻工集团 购买了金蝶的 erp,然后有根据要求,在 erp 的基础上,定制一个 手机端, 而金蝶做出的产品让轻工极不满意, 轻工要求我们介入,重新开发 h5, 接口还是由金蝶提供;

> 这是项目是当时的我接触过最大的项目,把一整个完整的订货 ERP 搬到 h5 上. 这个项目可复用的内容比较多,所以封装了很多组件,在这个项目里,第一次碰到移动端弹出层事件穿透问题,不过没有正面解决,由于当时的知识面比较窄,没有查到解决方案,后面改用其他方案代替了.

> 第二个印象比较深刻的问题是 由于是跟金蝶合作开发,然而金蝶厦门跟金蝶总部很多配合都不顺畅,导致部分原有功能,我们拿不到接口文档和产品需求文档.后面的解决方案是: 运行金蝶开发的那个失败的 h5 产品,在浏览器调试工具里面看源码,然后对着源码看逻辑.然后搬到我们的项目中.

#### 4. 可口可乐 s-HR系统(钉钉应用,无法访问), 轻工集团的项目刚做完,又接到一个 金蝶开发的项目被否,要求我们介入开发的项目,这个是 可口可乐-粗粮王 的s-HR 内部人力资源管理系统,也是从金蝶 ERP s-HR 搬到h5的项目

> 同样,由于是金蝶的项目,无法拿到任何文档,只不过这个更离谱,原有产品无法再 浏览器里运行,这样就无法查看源码, 好在金蝶厦门当时有个对需求非常熟悉的实施工程师在协助我们,但是接口还是无法拿到,后面我们的解决方案是用 charles 局域网抓包,然后根据需求,自己分析出 "接口文档",经历这个项目,对 http 知识 有了初步的了解.

#### 5. 去哪儿停(微信公众号:去哪停) 停车公众号,这是一个停车应用公众号,前后端都是 JavaScript, 从这个项目开始参与后端 api (nodejs) 开发.

#### 6. 龙翌锌合金 (微信公众号:龙翌锌合金),这又是一个基于用友现有的 erp 二次开发的项目,不过相对于上面2个金蝶的项目,这个项目跟用友的沟通还是比较顺畅的,后端接口一半用友提供,一些新需求自己用nodejs开发

